#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Pre-push: Preflight ê²€ì¦ ì‹œì‘"
echo "â±ï¸  ì´ ê³¼ì •ì€ ëª‡ ë¶„ ì†Œìš”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤..."

npm run check:all

if [ $? -eq 0 ]; then
  echo "âœ… Preflight ê²€ì¦ í†µê³¼ - í‘¸ì‹œë¥¼ ì§„í–‰í•©ë‹ˆë‹¤"
else
  echo "âŒ Preflight ê²€ì¦ ì‹¤íŒ¨ - í‘¸ì‹œê°€ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤"
  echo "ğŸ’¡ í•´ê²° ë°©ë²•:"
  echo "  1. npm run fix:lint && npm run fix:format"
  echo "  2. powershell -ExecutionPolicy Bypass -File scripts/run-preflight.ps1"
  echo "  3. ì˜¤ë¥˜ë¥¼ ìˆ˜ì •í•œ í›„ ë‹¤ì‹œ í‘¸ì‹œí•˜ì„¸ìš”"
  exit 1
fi
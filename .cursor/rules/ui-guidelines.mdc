---
description: UI 컴포넌트 개발 가이드라인
globs: ["src/**/*.tsx", "src/**/*.ts"]
alwaysApply: true
---

# UI 컴포넌트 개발 가이드라인

## 🎨 디자인 시스템 규칙

### 컴포넌트 사용 규칙
- **UI 컴포넌트는 `@/shared/ui/*`만 사용하세요**
- `src/components/ui/*` 직접 import 금지
- `src/components/*`에서 UI 컴포넌트 생성 금지

```tsx
// ❌ 금지
import { Button } from 'src/components/ui/button'
import { Card } from 'src/components/Card'

// ✅ 권장
import { Button } from '@/shared/ui/Button'
import { Card } from '@/shared/ui/Card'
```

### 색상 사용 규칙
- **CSS 변수만 사용하세요**
- Hex, RGB, HSL 직접 사용 금지
- Raw Tailwind 색상 클래스 사용 금지

```tsx
// ❌ 금지
<div className="bg-[#ff0000] text-[#ffffff]">
<div style={{ color: '#ff0000' }}>

// ✅ 권장
<div className="bg-danger-600 text-white">
<div className="bg-primary-600 text-primary-foreground">
```

### CVA 패턴 사용
- 모든 UI 컴포넌트는 class-variance-authority 패턴 사용
- variant, size, tone 속성 표준화

```tsx
// ✅ 표준 패턴
const buttonStyles = cva(
  "base-styles",
  {
    variants: {
      variant: { solid: "...", outline: "..." },
      size: { sm: "...", md: "...", lg: "..." },
      tone: { default: "...", success: "...", warning: "...", danger: "..." }
    }
  }
)
```

## ♿ 접근성 규칙

### 필수 ARIA 속성
- 모든 인터랙티브 요소에 적절한 ARIA 속성 추가
- Modal: `role="dialog"`, `aria-modal="true"`, `aria-labelledby`
- Button: `aria-label` (아이콘만 있는 경우)
- Input: `aria-describedby` (에러 메시지 연결)

### 키보드 네비게이션
- Tab 순서 논리적 구성
- Enter/Space로 버튼 활성화
- Escape로 Modal 닫기
- Focus trap (Modal 내부)

### 색상 대비
- WCAG AA 기준 충족 (4.5:1 이상)
- 색상만으로 정보 전달 금지
- 아이콘과 텍스트 병행 사용

## 🔄 상태 관리 규칙

### 로딩 상태
- 로딩 중에는 스켈레톤만 렌더링
- 실제 UI 컴포넌트 렌더링 금지
- `aria-busy="true"` 속성 추가

### 에러 상태
- 명확한 에러 메시지 표시
- 사용자 액션 가능한 복구 방법 제시
- `aria-live="polite"` 속성 추가

### 빈 상태
- EmptyState 컴포넌트 사용
- 사용자에게 다음 액션 안내
- 관련 기능으로의 링크 제공

## 📱 반응형 규칙

### 브레이크포인트
- `sm`: 640px 이상
- `md`: 768px 이상  
- `lg`: 1024px 이상
- `xl`: 1280px 이상

### 모바일 우선
- 기본 스타일은 모바일 기준
- `md:`, `lg:` 등으로 데스크톱 스타일 추가

## 🧪 테스트 규칙

### 컴포넌트 테스트
- 렌더링 테스트 필수
- 사용자 상호작용 테스트
- 접근성 테스트 (axe-core)

### 시각적 회귀 테스트
- Storybook 스토리 작성
- 주요 상태별 스크린샷 캡처
- 변경 시 시각적 차이 검증